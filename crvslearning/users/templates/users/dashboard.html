{% extends "base.html" %}
{% load static %}

{% block title %}Catalogue des cours{% endblock %}

{% block content %}
  <style>
    body{
      background:#ededed;
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
    }
    .overlay {
    position: absolute;
    font-weight: 800;
    width: 100% !important;
    height: 100%;
    background: #FFEB00;
    top: 0%;
    left: -0%;
    z-index: 999;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    }

    .overlay h1 {
    font-size: 100px;
    letter-spacing: 20px;
    font-size: 150px;
    font-weight: 800;
    }

    .overlay span {
    letter-spacing: 20px;
    font-size: 70px;
    font-weight: 600;
    }

    .page{
      max-width:120%;
      /* background:#fff; */
      border-radius:24px;
      /* padding:20px 20px 20px; */
      position:relative;
      overflow:hidden;
    }

    /* Header */
    .topbar{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-top: -1%;
    }

    .menu a{
      display:block;
      color:#ffffff;
      text-decoration:none;
      font-size:14px;
      margin-bottom:6px;
    }

    .menu a.active{
      font-weight:600;
    }

    .icons i{
      font-size:18px;
      margin-left:16px;
      cursor:pointer;
    }
    .tags img{
      width: 50px;
      
    }
    /* Hero */
    .hero{
      position:relative;
      min-height:200px;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .hero-title{
      position:absolute;
      font-size:160px;
      font-weight:800;
      color:#111;
      letter-spacing:5px;
      z-index:1;
      white-space:nowrap;
    }

    .hero img{
      max-width:420px;
      z-index:2;
    }

    .tags{
      position:absolute;
      right:0;
      bottom:40px;
      display:flex;
      gap:8px;
      display: flex;
      justify-content: space-between;
    }

    .tag{
      padding:6px 14px;
      border-radius:20px;
      font-size:12px;
      border:1px solid #111;
      background:#fff;
    }

    .tag.active{
      background:#111;
      color:#fff;
    }

    /* About */
    .about{
      display:grid;
      grid-template-columns: 1fr 1fr;
      margin-top:20px;
      align-items:center;
    }

    .about p{
      max-width:360px;
      font-size:14px;
      color:#333;
    }

    .btn-round{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 18px;
      border-radius:30px;
      background:#111;
      color:#fff;
      text-decoration:none;
      font-size:14px;
      margin-top:12px;
    }

    
    .arrow{
      position:absolute;
      bottom:10px;
      left:50%;
      transform:translateX(-50%);
      width:40px;
      height:40px;
      border-radius:50%;
      border: 1px solid #111;
      background:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:18px;
      color:#111;
      box-shadow: #333;
    }
.filters { display: flex; align-items: center; justify-content: space-between; margin: 8px 0 18px 0; }
  .category-list { list-style: none; padding: 0; margin: 0; display: flex; gap: 10px; flex-wrap: wrap; }
  .pill {
    display: inline-block; padding: 8px 12px; border-radius: 999px; text-decoration: none; color: #111;
    background: #f3f4f6; border: 1px solid #e5e7eb; font-weight: 600; font-size: 0.95rem;
  }
  .pill:hover { background: #e5e7eb; }
  .pill.active { background: #111827; color: #fff; border-color: #111827; }
  .clear-filter { text-decoration: none; color: #6b7280; font-weight: 600; }

  .courses-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 22px; }
  .course-card {
    position: relative; overflow: hidden; border-radius: 14px; background: #0b1220; text-decoration: none; color: inherit;
    box-shadow: 0 10px 24px rgba(0,0,0,0.18);
    display: grid; grid-template-rows: 200px auto;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
  }
  .course-card:hover { transform: translateY(-4px); box-shadow: 0 16px 36px rgba(0,0,0,0.28); }
  .course-media { position: relative; }
  .course-media img { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; }
  .course-fallback { position: absolute; inset: 0; display: grid; place-items: center; font-weight: 800; font-size: 48px; color: #fff;
    background: linear-gradient(135deg, #111827, #1f2937);
  }
  .media-overlay { position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.6), rgba(0,0,0,0.1)); }
  .media-badge { position: absolute; left: 12px; bottom: 12px; background: rgba(17,24,39,0.85); color: #fff; padding: 6px 10px; border-radius: 999px; font-size: 12px; font-weight: 700; }
  .course-meta { padding: 14px 14px 16px 14px; background: #fff; }
  .course-title { margin: 0 0 6px 0; font-size: 1.05rem; color: #0b1220; font-weight: 800; }
  .course-desc { margin: 0; color: #4b5563; font-size: 0.95rem; }

  @media (max-width: 768px) {
    .hero { height: 46vh; }
    .hero-top { flex-direction: column; align-items: flex-start; }
    .course-card { grid-template-rows: 160px auto; }
  }
    @media(max-width:992px){
      .hero-title{font-size:96px;}
      .cards{grid-template-columns:1fr;}
      .about{grid-template-columns:1fr;gap:24px;}
    }
  </style>
</head>
<body>
    <div class="overlay">
    <h1>Welcome</h1>
    <span>{{ request.user.username }}</span>
  </div>
<div class="page">

  <!-- Header -->
  <div class="topbar">
    <div class="menu">
      <a href="#" class="active btn-round">Explore →</a>
    </div>

    <div class="fw-semibold">– BUNEC - ELEARNING –</div>

    <div class="icons">
      <!-- <i class="bi bi-search"></i>
      <i class="bi bi-bag"></i>
      <i class="bi bi-person"></i> -->
    </div>
  </div>

  <!-- Hero -->
  <div class="hero">
    <img src="{% static 'img/crayon.png' %}" alt="stool">
    <div class="hero-title">CrvsTrainingZ</div>
    


    <div class="tags mt-5">
        <img src="{% static 'img/bunec.png' %}" alt="bunec">
        <img src="{% static 'img/vitalstrategy.png' %}" alt="vitalstrategy">
        <img src="{% static 'img/giz.png' %}" alt="giz">
       <!-- <span class="tag">stool</span>
        <span class="tag">furniture</span>
        <span class="tag">modern</span>
        <span class="tag active">chair</span> -->
    </div>
  </div>

  <!-- About -->
  <div class="about">
    <div>
      <small class="text-muted">About us</small>
      <h5 class="fw-semibold mt-2">What we do</h5>
    </div>

    <div class="each">
      <p>
        Each piece in our collection embodies a harmonious blend of creativity and functionality.
      </p>
      <a href="#" class="btn-round">Learn more <i class="bi bi-arrow-right"></i></a>
    </div>
  </div>

  <!-- Cards -->

    <div class="filters mt-5">
    <ul class="category-list mt-5">
        <li>
        <a href="{% url 'users:dashboard' %}"
            class="pill {% if not selected_category %}active{% endif %}">Tous</a>
        </li>
        {% for category in categories %}
        <li>
            <a href="?category={{ category.slug }}"
            class="pill {% if selected_category == category.slug %}active{% endif %}">{{ category.name }}</a>
        </li>
        {% empty %}
        <li>Aucune catégorie trouvée.</li>
        {% endfor %}
    </ul>
    {% if selected_category %}
        <a href="{% url 'users:dashboard' %}" class="clear-filter">Réinitialiser</a>
    {% endif %}
    </div>
    <div class="courses-grid mt-2">
    {% for course in courses %}
        <a class="course-card" href="{% url 'courses:course_detail' course.id %}">
        <div class="course-media">
            {% if course.thumbnail %}
            <img src="{{ course.thumbnail.url }}" alt="{{ course.title }}">
            {% else %}
            <div class="course-fallback" aria-label="Aperçu du cours {{ course.title }}">
                <span class="course-initials">{{ course.title|first|upper }}</span>
            </div>
            {% endif %}
            <div class="media-overlay"></div>
            <div class="media-badge">{{ course.category.name|default:'Général' }}</div>
        </div>
        <div class="course-meta">
            <h2 class="course-title">{{ course.title }}</h2>
            <p class="course-desc">{{ course.description|truncatechars:120 }}</p>
            <br>
            <br>
            <div class="arrow"><i class="bi bi-arrow-up"></i></div>
        </div>
        </a>
    {% empty %}
        <p>Aucun cours disponible pour cette catégorie.</p>
    {% endfor %}
    </div>

</div>
<script src="{% static 'vendor/gsap/gsap-3-12.js' %}"></script>
<!-- <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script> -->

</body>
{% endblock %}