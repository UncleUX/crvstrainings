{% extends "base.html" %}

{% block title %}Page d'accueil - CRVS Learning{% endblock %}

{% block content %}
<!-- SECTION HERO -->
<div style="min-height: 100vh; display: flex; flex-direction: column;">
  <div style="flex: 1; display: flex; align-items: center; justify-content: space-between; padding: 80px; background: linear-gradient(135deg, #0f172a, #111827); color: white;">
    <!-- TEXTE GAUCHE -->
    <div style="width:50%;">
        <h1 style="font-size:48px; line-height:1.2; margin:0; font-weight:800;">
            Commencez à Apprendre <br>
            Avec Nos <span style="color:#ff7a00;">Formateurs</span><br>
            Experts
        </h1>

        <p style="font-size:16px; color:#e2e8f0; margin:25px 0 35px;">
            Développez vos compétences grâce aux universités et entreprises de classe mondiale.<br>
            Apprenez en ligne et obtenez des certifications et des diplômes.
        </p>

        <!-- Barre de recherche améliorée -->
        <form action="{% url 'courses:search' %}" method="get" style="display:flex; flex-direction: column; gap: 15px; max-width: 600px; width: 100%;">
            <div style="display: flex; gap: 10px;">
                <input type="text" name="q" 
                       placeholder="Rechercher un cours ou un formateur..." 
                       style="flex: 1; padding: 14px 16px; border: 1px solid #4a5568; border-radius: 6px; font-size: 15px; background: #1e293b; color: white;"
                       aria-label="Rechercher un cours ou un formateur">
                <button type="submit" 
                        style="background: #5a4bff; color: white; border: none; border-radius: 6px; padding: 0 25px; font-size: 15px; cursor: pointer; white-space: nowrap; transition: background-color 0.3s ease;"
                        onmouseover="this.style.backgroundColor='#4a3dcc'"
                        onmouseout="this.style.backgroundColor='#5a4bff'">
                    Rechercher
                </button>
            </div>
            <div style="display: flex; gap: 15px; font-size: 13px; color: #a0aec0; align-items: center;">
                <span>Rechercher par :</span>
                <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                    <input type="radio" name="search_type" value="course" checked> Cours
                </label>
                <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                    <input type="radio" name="search_type" value="instructor"> Formateur
                </label>
            </div>
        </form>

        <!-- Tags -->
        <div style="margin-top:20px; display:flex; gap:15px; font-size:14px; color:#a0aec0;">
            <span>⬤ Cours gratuit</span>
            <span>⬤ Cours en promotion</span>
            <span>⬤ À la demande</span>
        </div>
    </div>

    <!-- IMAGE DROITE -->
    <div style="width:45%; position:relative; text-align:center;">
        <div style="width:380px; height:380px; border-radius:20px; background: #2d3748; display:flex; align-items:center; justify-content:center; margin: 0 auto;">
            <span style="color: #a0aec0;">Image illustrative</span>
        </div>
    </div>
    
    <!-- Flèche de défilement vers le bas -->
    <div style="text-align: center; padding: 30px 0;">
        <a href="#featured-courses" style="color: white; text-decoration: none; display: inline-flex; flex-direction: column; align-items: center;">
            <span style="display: block; margin-bottom: 10px;">Découvrir plus</span>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19 9L12 16L5 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </a>
    </div>
</div>

<!-- SECTION COURS EN VEDETTE -->
<section id="featured-courses" style="padding: 80px; background: #f8fafc;">
    <h2 style="text-align:center; font-size:32px; margin-bottom:40px;">Cours en vedette</h2>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px;">
        {% for course in highlight_courses|slice:":3" %}
        <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            {% if course.thumbnail %}
                <img src="{{ course.thumbnail.url }}" alt="{{ course.title }}" style="width:100%; height:180px; object-fit:cover;">
            {% else %}
                <div style="background: #e2e8f0; height:180px; display:flex; align-items:center; justify-content:center; color:#64748b;">
                    {{ course.title|slice:":2"|upper }}
                </div>
            {% endif %}
            <div style="padding:20px;">
                <div style="color:#5a4bff; font-size:14px; font-weight:600; margin-bottom:8px;">
                    {{ course.category.name|default:'Général' }}
                </div>
                <h3 style="margin:0 0 12px 0; font-size:18px;">
                    <a href="{% url 'courses:course_detail' course.id %}" style="color:#1a202c; text-decoration:none;">
                        {{ course.title }}
                    </a>
                </h3>
                <div style="display:flex; justify-content:space-between; color:#64748b; font-size:14px;">
                    <span>{% if course.duration %}{{ course.duration }} heures{% endif %}</span>
                    <span>{% if course.price > 0 %}{{ course.price }} €{% else %}Gratuit{% endif %}</span>
                </div>
            </div>
        </div>
        {% empty %}
        <p style="grid-column:1/-1; text-align:center; color:#64748b;">Aucun cours en vedette pour le moment.</p>
        {% endfor %}
    </div>
    
    <div style="text-align:center; margin-top:40px;">
        <a href="{% url 'courses:all_courses' %}" 
           style="display:inline-block; background:#5a4bff; color:white; padding:12px 24px; 
                  border-radius:6px; text-decoration:none; font-weight:600;">
            Voir tous les cours
        </a>
    </div>
</section>

<!-- SECTION TEMOIGNAGES -->
<section style="padding:80px; background:#f8fafc;">
    <h2 style="text-align:center; font-size:32px; margin-bottom:40px;">Ce que disent nos étudiants</h2>
    
    <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:30px;">
        <div style="background:white; padding:30px; border-radius:12px; box-shadow:0 4px 6px rgba(0,0,0,0.05);">
            <div style="display:flex; align-items:center; margin-bottom:20px;">
                <div style="width:50px; height:50px; border-radius:50%; background:#e2e8f0; display:flex; align-items:center; justify-content:center; margin-right:15px; font-weight:bold; color:#4a5568;">JD</div>
                <div>
                    <div style="font-weight:600;">Jean Dupont</div>
                    <div style="font-size:14px; color:#64748b;">Étudiant en Développement Web</div>
                </div>
            </div>
            <p style="color:#4a5568; line-height:1.6; margin:0;">
                "Les cours sont très bien structurés et les formateurs sont à l'écoute. J'ai pu acquérir des compétences concrètes en peu de temps."
            </p>
        </div>
        
        <div style="background:white; padding:30px; border-radius:12px; box-shadow:0 4px 6px rgba(0,0,0,0.05);">
            <div style="display:flex; align-items:center; margin-bottom:20px;">
                <div style="width:50px; height:50px; border-radius:50%; background:#e2e8f0; display:flex; align-items:center; justify-content:center; margin-right:15px; font-weight:bold; color:#4a5568;">MS</div>
                <div>
                    <div style="font-weight:600;">Marie Simon</div>
                    <div style="font-size:14px; color:#64748b;">Étudiante en Marketing Digital</div>
                </div>
            </div>
            <p style="color:#4a5568; line-height:1.6; margin:0;">
                "Une plateforme intuitive avec des cours de qualité. Les mises à jour régulières du contenu montrent un réel engagement envers les apprenants."
            </p>
        </div>
        
        <div style="background:white; padding:30px; border-radius:12px; box-shadow:0 4px 6px rgba(0,0,0,0.05);">
            <div style="display:flex; align-items:center; margin-bottom:20px;">
                <div style="width:50px; height:50px; border-radius:50%; background:#e2e8f0; display:flex; align-items:center; justify-content:center; margin-right:15px; font-weight:bold; color:#4a5568;">TP</div>
                <div>
                    <div style="font-weight:600;">Thomas Petit</div>
                    <div style="font-size:14px; color:#64748b;">Étudiant en Data Science</div>
                </div>
            </div>
            <p style="color:#4a5568; line-height:1.6; margin:0;">
                "L'approche pratique des formations m'a permis de mettre en application immédiatement ce que j'ai appris. Je recommande vivement !"
            </p>
        </div>
    </div>
</section>

<!-- SECTION CTA -->
<section style="padding:100px 20px; background: linear-gradient(135deg, #4f46e5, #7c3aed); color:white; text-align:center;">
    <h2 style="font-size:36px; margin:0 0 20px 0;">Prêt à commencer votre apprentissage ?</h2>
    <p style="font-size:18px; max-width:600px; margin:0 auto 30px; opacity:0.9;">
        Rejoignez des milliers d'étudiants qui développent déjà leurs compétences avec nos formations.
    </p>
    <div style="display:flex; gap:15px; justify-content:center; flex-wrap:wrap;">
        <a href="{% url 'courses:all_courses' %}" style="display:inline-block; background:white; color:#4f46e5; padding:14px 30px; border-radius:8px; text-decoration:none; font-weight:600; transition:transform 0.2s;">
            Parcourir les cours
        </a>
        <a href="{% url 'users:register' %}" style="display:inline-block; border:2px solid white; color:white; padding:12px 28px; border-radius:8px; text-decoration:none; font-weight:600; transition:all 0.2s;">
            Créer un compte
        </a>
    </div>
</section>

<!-- FOOTER -->
<footer style="background:#0f172a; color:#94a3b8; padding:60px 20px 30px; display:none;">
    <div style="max-width:1200px; margin:0 auto; display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:40px;">
        <div>
            <div style="font-size:22px; font-weight:800; color:white; margin-bottom:20px;">CRVS Learning</div>
            <p style="margin:0 0 20px 0; line-height:1.6;">
                Plateforme d'apprentissage en ligne offrant des formations de qualité dans divers domaines professionnels.
            </p>
            <div style="display:flex; gap:15px; margin-top:25px;">
                <a href="#" style="color:#94a3b8; text-decoration:none; font-size:20px;">
                    <span>f</span>
                </a>
                <a href="#" style="color:#94a3b8; text-decoration:none; font-size:20px;">
                    <span>t</span>
                </a>
                <a href="#" style="color:#94a3b8; text-decoration:none; font-size:20px;">
                    <span>in</span>
                </a>
                <a href="#" style="color:#94a3b8; text-decoration:none; font-size:20px;">
                    <span>ig</span>
                </a>
            </div>
        </div>
        
        <div>
            <h3 style="color:white; margin:0 0 20px 0; font-size:18px;">Navigation</h3>
            <ul style="list-style:none; margin:0; padding:0; display:grid; gap:12px;">
                <li><a href="{% url 'courses:all_courses' %}" style="color:#94a3b8; text-decoration:none;">Tous les cours</a></li>
                <li><a href="#" style="color:#94a3b8; text-decoration:none;">Formations en ligne</a></li>
                <li><a href="#" style="color:#94a3b8; text-decoration:none;">Formations en présentiel</a></li>
                <li><a href="#" style="color:#94a3b8; text-decoration:none;">Certifications</a></li>
                <li><a href="#" style="color:#94a3b8; text-decoration:none;">Blog</a></li>
            </ul>
        </div>
        
        <div>
            <h3 style="color:white; margin:0 0 20px 0; font-size:18px;">Entreprise</h3>
            <ul style="list-style:none; margin:0; padding:0; display:grid; gap:12px;">
                <li><a href="#" style="color:#94a3b8; text-decoration:none;">À propos</a></li>
                <li><a href="#" style="color:#94a3b8; text-decoration:none;">Carrières</a></li>
                <li><a href="#" style="color:#94a3b8; text-decoration:none;">Devenir formateur</a></li>
                <li><a href="#" style="color:#94a3b8; text-decoration:none;">Contact</a></li>
            </ul>
        </div>
        
        <div>
            <h3 style="color:white; margin:0 0 20px 0; font-size:18px;">Contact</h3>
            <address style="font-style:normal; line-height:1.6;">
                <div style="margin-bottom:10px;">
                    <div style="font-weight:600; color:white;">Email</div>
                    <a href="mailto:contact@crvslearning.com" style="color:#94a3b8; text-decoration:none;">contact@crvslearning.com</a>
                </div>
                <div>
                    <div style="font-weight:600; color:white;">Téléphone</div>
                    <a href="tel:+33123456789" style="color:#94a3b8; text-decoration:none;">+33 1 23 45 67 89</a>
                </div>
            </address>
        </div>
    </div>
    
    <div style="max-width:1200px; margin:60px auto 0; padding-top:30px; border-top:1px solid rgba(255,255,255,0.1); display:flex; justify-content:space-between; flex-wrap:wrap; gap:20px;">
        <div style="font-size:14px;">
            2023 CRVS Learning. Tous droits réservés.
        </div>
        <div style="display:flex; gap:20px; font-size:14px;">
            <a href="#" style="color:#94a3b8; text-decoration:none;">Confidentialité</a>
            <a href="#" style="color:#94a3b8; text-decoration:none;">Conditions d'utilisation</a>
            <a href="#" style="color:#94a3b8; text-decoration:none;">Mentions légales</a>
        </div>
    </div>
</footer>

{% endblock %}

{% block extra_css %}
<style>
  .list-hero{position:relative;height:36vh;border-radius:16px;overflow:hidden;display:grid;place-items:center;margin:0 0 18px 0}
  .lh-backdrop{position:absolute;inset:0;background:linear-gradient(135deg,#0f172a,#111827,#1f2937)}
  .lh-gradient{position:absolute;inset:0;background:radial-gradient(1200px 400px at 10% 120%, rgba(59,130,246,.28),transparent),radial-gradient(1200px 400px at 90% -20%, rgba(236,72,153,.22),transparent);mix-blend-mode:screen}
  .lh-inner{position:relative;z-index:1;text-align:center;color:#fff;padding:0 22px}
  .lh-inner h1{font-size:clamp(26px,5vw,44px);margin:0 0 6px 0;font-weight:800}
  .lh-inner p{opacity:.9;margin:0}

  .course-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}
  .card{position:relative;display:grid;grid-template-rows:180px auto;border-radius:14px;overflow:hidden;text-decoration:none;color:inherit;background:#0b1220;box-shadow:0 10px 24px rgba(0,0,0,.18);transition:transform .25s ease, box-shadow .25s ease}
  .card:hover{transform:translateY(-4px);box-shadow:0 16px 36px rgba(0,0,0,.28)}
  .media{position:relative}
  .media img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
  .fallback{position:absolute;inset:0;display:grid;place-items:center;background:linear-gradient(135deg,#111827,#1f2937);color:#fff;font-size:48px;font-weight:800}
  .overlay{position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,.6),rgba(0,0,0,.1))}
  .badge{position:absolute;left:10px;bottom:10px;background:rgba(17,24,39,.85);color:#fff;padding:6px 10px;border-radius:999px;font-size:12px;font-weight:800}
  .meta{background:#fff;padding:14px}
  .meta h3{margin:0 0 6px 0;font-size:1.05rem;font-weight:800;color:#0b1220}
  .meta p{margin:0;color:#4b5563}

  .hl-section{margin:6px 0 18px 0}
  .hl-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 10px 0}
  .hl-header h2{margin:0;font-size:1.25rem;font-weight:800}
  .hl-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px}
  .hl-card{position:relative;display:grid;grid-template-rows:150px auto;border-radius:12px;overflow:hidden;text-decoration:none;color:inherit;background:#0b1220}
  .hl-media{position:relative}
  .hl-media img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
  .hl-fallback{position:absolute;inset:0;display:grid;place-items:center;background:linear-gradient(135deg,#1f2937,#111827);color:#fff;font-size:36px;font-weight:800}
  .hl-overlay{position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,.55),rgba(0,0,0,.1))}
  .hl-meta{background:#fff;padding:10px 12px}
  .hl-meta h3{margin:4px 0 0 0;font-size:1rem;font-weight:800;color:#0b1220}
  .hl-badge{display:inline-block;background:#0b1220;color:#fff;border-radius:999px;padding:4px 8px;font-size:11px;font-weight:800}
  .hl-time{font-size:.85rem;color:#6b7280;margin-top:4px}

  .cat-bar{display:flex;flex-wrap:wrap;gap:8px;margin:0 0 14px 0}
  .cat-pill{display:inline-block;padding:8px 12px;border-radius:999px;background:#e5e7eb;color:#111827;text-decoration:none;font-weight:700;font-size:13px}
  .cat-pill.active{background:#111827;color:#fff}
  .cat-empty{color:#6b7280}
</style>
{% endblock %}
