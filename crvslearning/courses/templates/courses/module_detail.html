{% extends 'base.html' %}
{% block title %}Détail module{% endblock %}
{% block content %}
<h1>Module: {{ module.title }}</h1>
{% if request.user.is_authenticated and request.user.is_superuser or request.user.is_authenticated and request.user.role == 'trainer' or request.user.is_authenticated and request.user.role == 'admin' %}
  <p>
    <a class="btn btn-primary btn-sm" href="{% url 'courses:lesson_create' module.course.id module.id %}">Ajouter une leçon</a>
    <a class="btn btn-outline-secondary btn-sm" href="{% url 'courses:course_detail' module.course.id %}">← Retour au cours</a>
  </p>
{% endif %}
<p>{{ module.description }}</p>
<h3>Leçons</h3>
<ul>
  {% for lesson in lessons %}
    <li><a href="{% url 'courses:lesson_detail' lesson.id %}">{{ lesson.title }}</a></li>
  {% empty %}
    <li>Aucune leçon pour ce module.</li>
  {% endfor %}
</ul>
{% endblock %}
